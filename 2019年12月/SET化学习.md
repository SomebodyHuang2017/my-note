# 一套架构

# 两种核心驱动力（扩展需求、容灾需求）

## 庞大的业务体量
### 扩展瓶颈（1）：折腾机房太累
### 扩展瓶颈（2）：数据库

### 容灾要求越来越高
* 核心业务
* 支付

### 风险越来越不可控
* 内部可掌控风险
    * 提升工程质量、架构水平
    * 完善工程方法
    * 全链路压测、故障演练
* 外部不可控风险
    * 光纤挖断
    * 电力中断
    * 设备故障
    * 灾难天气



# 三个疑问（是什么？是否只得做？如何做？）

## 理解SET化本质
### SET化定义
1、把业务系统拆分成多个可扩展的逻辑分区（SET）
2、SET可提供独立服务
3、控制数据和流量在SET间的分配

### 理解SET化
1、SET可理解为“逻辑机房”（LDC）
2、多个机房映射到一个SET，再也不需要费劲折腾机房了
3、一个SET体量过大？拆分成两个小SET！不用担心横向扩展
4、SET之间数据互备，故障时切换流量，实现灾备
5、把SET部署到异地 -> 异地多活
6、增加数据备份 -> 三地五中心


# 四个关键点（SET化架构之）

1、SET是如何划分的？

2、流量隔离怎么实现？

3、应用层如何执行SET路由？

4、数据互备怎么做？


# 若干最佳实践